
{
  "train": {
    "data_file": "GraphCodeBert/data/cpp_functions.jsonl",
    "output_dir": "BERTModels/GraphCodeBert/graphcodebert-cpp-mlm-from-config",
    "batch_size": 8,
    "epochs": 8,
    "learning_rate": 2e-5,
    "max_length": 256,
    "warmup_steps": 500,
    "mlm_probability": 0.15,
    "validation_split": 0.15
  },
   "evaluate": {
       "model_path":"GraphCodeBert/MLM/BERTModels/GraphCodeBert/graphcodebert-cpp-mlm-from-config/best_model",
    "mask_ratio": 0.2,
    "top_k": 5,
    "use_database_snippets": true,
    "training_data_size": 10000,
    "num_database_snippets": 1000
  },
  "mlm_eval": {
    "model_path": "GraphCodeBert/graphcodebert-cpp-mlm-from-config/best_model",
    "device": null,
    "mask_ratio": 0.2,
    "top_k": 5,
    "methods": {
      "random_mask": {
        "enabled": false,
        "mask_ratio": 0.5
      },
      "sequential_mask": {
        "enabled": true
      },
      "specific_token_mask": {
        "enabled": false,
        "tokens": ["int", "void", "return", "result"]
      }
    }
  },

  "codesearch": {
    "train_data_file": "data/training_data.jsonl",
    "output_dir": "CodeSearch/graphcodebert-cpp-codesearch",
    "model_name_or_path": "graphcodebert-cpp-mlm-from-config/best_model",
    "tokenizer_name": "graphcodebert-cpp-mlm-from-config/best_model",
    "config_name": "graphcodebert-cpp-mlm-from-config/best_model",
    "model_type": "pretrained_checkpoint",
    "train_batch_size": 4,
    "eval_batch_size": 16,
    "learning_rate": 2e-5,
    "max_grad_norm": 1.0,
    "num_train_epochs": 3,
    "warmup_steps": 10,
    "code_length": 256,
    "nl_length": 128,
    "margin": 0.5,
    "neg_weight": 0.5,
    "seed": 42,
    "evaluation": {
      "eval_data_file": "data/eval.jsonl",
      "output_file": "data/eval_results.json",
      "distractor_data_file": "data/distractors.jsonl",
      "eval_batch_size": 32
    }
  }
}
